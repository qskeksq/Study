# Nodejs

## Cookie

- 원래 HTTP 통신 방법은 상태가 없다. 즉, 접속할 때마다 이전 상태를 다음 접속이 알 수 없도록 설계가 되어 있다. 이전 로그인 상태를 알 수 없는 것이다. 이를 보완하기 위해 Cookie를 사용한다. 로그인 상태 유지, 장바구니 구현 등.

- Cookie ->  Sesseion -> 인증  과정을 공부한다. Cookie 자체로도 활용이 굉장히 넓고, 인증과 세션을 공부하기 위한 기반이기도 하다

- 쿠키 보는 방법 : F12 -> Resources -> Cookie

- 웹브라우저에서 서버에 요청 -> 서버에서 브라우저에게 쿠키와 함께 응답 -> 웹브라우저가 쿠키를 삭제하지 않고 다른 요청 -> 서버에서 쿠키 분석, 처리과정을 거친 쿠키로 바꿔서 응답 -> 반복

- Express에서 제공하는 cookie 사용하자. Express 사이트 들어가서 알아보자

- 결국 Cookie 정보도 HTTP 통신 정보 중 하나이며, Header에 담겨서 request, response로 주고받는다. 

- 현재는 웹브라우저에서 쿠키를 주고받지만 안드로이드에서도 쿠키를 꺼내 사용할 수 있어야 한다

- 쇼핑카트 쿠키는 별로 보안에 중요하지 않지만 로그인이나 보안 관련 쿠키는 중간에 탈취당할 수 있다. 따라서 https로 통신을 하거나 쿠키를 암호화해서 클라이언트에 전달한다.

## Session

- 쿠키를 안전하고 많은 데이터를 저장할 수 있도록 해준다

- 클라이언트에는 식별자만 전달하고 중요한 실제 쿠키에 해당하는 데이터는 서버에 저장한다.

- 쿠키 방식과 차이점은 무엇인가. 쿠키는 실제 데이터가 암호화 되든 안 되었든 실제 데이터가 왔다 갔다 하지만 세션은 오직 sid, 즉 식별자만 전달된다. 둘 다 쿠키를 사용하는 것은 공통이고, 그 세부 방식이 조금 다른 것이다.

- 데이터를 서버에 저장하기 때문에 많은 데이터를 저장할 수 있고, 식별자 자체에는 어떤 데이터 값도 없기 때문에 보다 안전하다.